!function(){"use strict";var t=function(e,i){return{restrict:"A",scope:{tooltip:"@",tooltipFixedPosition:"=",tooltipClass:"@"},link:function(s,c,o){s.createTooltip=function(t){if(o.tooltip){s.getDirection();s.tooltipElement=angular.element("<div>").addClass("angular-tooltip").addClass(s.tooltipClass),angular.element(document).find("body").append(s.tooltipElement),s.updateTooltip(o.tooltip),s.tooltipElement.addClass("angular-tooltip-fade-in")}},s.updateTooltip=function(t){s.tooltipElement.html(t),i(s.tooltipElement.contents())(s);var o=s.calculatePosition(s.tooltipElement,s.getDirection());s.tooltipElement.addClass("angular-tooltip-"+o.direction).css(o),e(function(){c.removeAttr("ng-attr-tooltip"),c.removeAttr("tooltip")})},s.$watch("tooltip",function(t){s.tooltipElement&&s.updateTooltip(t)}),s.removeTooltip=function(){angular.element(document.querySelectorAll(".angular-tooltip")).remove()},s.getDirection=function(){return c.attr("tooltip-direction")||"top"},s.calculatePosition=function(t,o){var e=t[0].getBoundingClientRect(),i=c[0].getBoundingClientRect(),n=window.scrollX||document.documentElement.scrollLeft,l=window.scrollY||document.documentElement.scrollTop,r=12,p={},a=null;return s.stringStartsWith(o,"left")?p.left=i.left-e.width-6+n:s.stringStartsWith(o,"right")?p.left=i.left+i.width+6+n:s.stringContains(o,"left")?p.left=i.left-e.width+r+n:s.stringContains(o,"right")?p.left=i.left+i.width-r+n:p.left=i.left+i.width/2-e.width/2+n,s.stringStartsWith(o,"top")?p.top=i.top-e.height-6+l:s.stringStartsWith(o,"bottom")?p.top=i.top+i.height+6+l:s.stringContains(o,"top")?p.top=i.top-e.height+r+l:s.stringContains(o,"bottom")?p.top=i.top+i.height-r+l:p.top=i.top+i.height/2-e.height/2+l,s.tooltipFixedPosition&&(p.left<n?a=o.replace("left","right"):p.left+e.width>window.innerWidth+n&&(a=o.replace("right","left")),p.top<l?a=o.replace("top","bottom"):p.top+e.height>window.innerHeight+l&&(a=o.replace("bottom","top")),a)?s.calculatePosition(t,a):(p.left+="px",p.top+="px",p.direction=o,p)},s.stringStartsWith=function(t,o){return t.substr(0,o.length)===o},s.stringContains=function(t,o){return-1!==t.indexOf(o)},o.tooltip?(c.on("mouseover",s.createTooltip),c.on("mouseout",s.removeTooltip)):(c.off("mouseover",s.createTooltip),c.off("mouseout",s.removeTooltip)),c.on("destroy",s.removeTooltip),s.$on("$destroy",s.removeTooltip)}}};t.$inject=["$timeout","$compile"],angular.module("ng-tooltips",[]).directive("tooltip",t)}();